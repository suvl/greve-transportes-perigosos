<?php
/**
 * Created by PhpStorm.
 * User' => tomahock
 * Date' => 30/04/2019
 * Time' => 09' =>06
 */

require_once '../vendor/autoload.php';

use PHPHtmlParser\Dom;



$ids = ["191837","183740","181722","185875","185200","183834","181726","182474","186037","182407","182246","181826","190571","191734","182322","185224","185777","182222","181479","185320","181527","182371","181648","181911","186870","187066","186521","185202","182423","181216","182448","181959","182018","186791","187045","190823","184972","180107","180100","181627","181446","181884","181516","182561","182844","184681","184524","187167","191840","186757","190470","181188","181174","189014","182882","186275","183791","186882","186494","184643","184645","182509","182391","182502","181610","189658","191305","184704","182524","181964","182633","183780","191113","187628","184853","187348","181139","181867","181377","188727","191126","190641","181765","183997","184325","189605","186681","180415","184699","184683","184693","184697","189873","182702","181566","183765","181760","181398","191908","191549","186033","181381","182767","186854","181554","184940","189069","183760","182305","190343","187553","186945","182545","181670","190393","182577","181245","182538","182497","181827","190353","190815","182412","190359","182813","181153","190549","181715","185156","181756","184673","184687","184671","181531","183784","183758","181192","188240","180554","185026","185003","185106","185042","185054","185017","185001","185033","185101","185114","185039","185083","185073","185059","185057","185030","185045","184999","185122","185075","185053","185005","185079","185047","185138","185012","185062","185066","185028","185037","185096","185110","185085","185089","185035","185024","185118","185021","182457","183805","183939","187014","187279","189496","181445","182522","182603","180407","188264","189204","182801","190794","182866","181410","185142","190382","184689","184691","184685","189824","183733","185077","186417","181517","181249","181076","182283","189328","189280","189460","184282","180464","180468","183768","180241","182588","183796","189556","187326","181432","180450","189677","182796","185301","187121","184517","183794","189421","185929","182869","183180","186726","189630","184661","184663","184668","184679","186721","184110","182990","180186","181290","184980","189843","181535","181062","182000","184222","187972","189340","185417","190785","186178","186599","183798","184913","181609","183801","184988","184995","184993","184991","189595","180508","190808","181086","190020","181745","181279","183312","191452","190464","185065","189840","184008","183776","184260","181307","182350","182666","185572","190416","190420","185951","185961","185368","182398","181730","182716","182809","186279","189711","185583","190293","180369","191045","185575","180387","180376","180297","185135","180160","190449","181318","189248","182368","181113","182008","187138","186816","181629","181687","181248","186795","184638","184140","185438","184570","182459","184003","185450","183871","191023","182172","186517","187345","180115","180120","180300","187158","189569","191038","184675","186803","184658","184654","184677","184666","184651","184773","184695","186759","190233","181504","181505","186777","190970","182199","182177","183763","180204","180242","180227","191628","182295","182405","181221","181433","184338","184611","181644","183826","186072","180425","186434","184760","186601","183026","183318","186514","183328","182989","190492","190914","182946","184821","181213","182550","183789","184882","187064","185916","184969","184446","180436","184505","191619","183906","185354","185222","190242","184825","191589","184211","182291","185638","190325","191730","184034","191487","181060","187031","186065","186360","182669","180130","184304","181094","191093","187394","185144","185885","180385","182673","191917","191871","180285","180282","184138","185356","185358","184161","184142","184144","184156","182639","184113","184121","185051","184385","184390","184431","184433","191440","183239","183009","187323","187317","183811","181129","186912","181299","182686","184877","191524","180406","185379","184014","185160","185161","186432","187741","190141","184951","180453","182710","185841","181806","180213","180411","180500","182584","190425","184344","189878","187311","182510","187319","186753","190299","189337","188904","188902","185115","190008","185318","186865","186719","187483","187480","185808","187647","180498","182794","182781","180319","180268","187343","188139","185094","183079","186645","186647","186425","183038","181500","182859","182661","187751","187419","184785","185823","185227","182604","184656","181457","181532","185192","185197","187177","182684","182678","185838","184864","184244","182752","187680","187678","181624","181910","181881","189200","184751","180484","181344","190427","184936","185859","185315","182503","181275","185896","185212","185394","190488","186731","187141","183975","182093","184252","184240","182592","184464","184491","190876","185040","180540","182681","191543","186737","184836","191309","180418","180441","180355","180365","186466","184567","188130","188135","184331","190648","187080","187222","187218","191467","183524","183440","183452","183517","187358","180336","182472","183986","187642","185505","184370","184769","189106","189511","188918","185588","180062","182659","187788","187943","186667","185292","181135","180334","182536","180426","180287","180435","180452","186626","185082","187595","180430","182689","184374","191756","190944","182460","187321","187313","182835","184954","182729","184062","184382","190490","186728","186483","182852","182598","187541","182403","184187","187770","186734","183823","183827","182786","180271","180325","180263","180266","180273","189584","190412","185950","185293","191482","183276","190386","182970","187429","182890","182980","182986","183053","183070","183711","183416","182993","183059","183262","183162","183946","183977","186153","183604","183409","183339","183375","183063","183082","183331","192020","184068","183684","191532","181448","182204","184942","185819","185817","185797","185790","185793","180331","189211","180352","187422","189100","182700","186774","190169","183817","190889","180215","180219","180224","185049","180124","180128","180135","180138","180142","180147","180152","180158","180167","180174","180180","180185","180189","180195","180199","180206","180304","180308","180311","180315","180320","180324","180338","180344","180357","180361","180367","186061","180371","180375","180389","180251","180258","180275","180293","180298","180232","180237","180394","190111","190113","180531","190586","190778","188089","188092","180503","188994","188998","186246","187902","180488","180493","180497","190721","180398","180412","180417","186764","180424","183828","180437","180474","180477","180479","180482","189762","188095","187298","187294","187191","187195","189786","189790","189744","189748","187199","189634","187127","184173","184175","191584","186862","187062","184997","185602","190672","184960","184225","184199","184494","181490","184733","186079","185345","189521","187144","184866","189465","185399","184870","189561","189563","187964","186612","187522","182572","182583","180047","181488","181635","185132","182787","182798","180278","180280","180289","187239","184546","184553","184560","186231","181208","181162","182401","182410","186614","186536","187988","187986","181286","180687","187273","189609","191104","184011","190314","183489","185216","189213","183481","183532","183166","189390","186859","183150","183590","187589","183427","183671","183044","183462","184022","182918","183480","183250","183226","183533","183520","183136","183715","183296","183193","183199","182927","182934","183529","187145","183504","183536","183579","183675","183685","183434","183475","183157","183369","183372","183691","183709","183065","182910","183194","182930","182871","183033","183300","183493","183501","183311","183217","183327","182923","183011","182886","183317","183129","183261","182201","181820","182421","180921","187257","186152","181622","181936","181931","181979","181251","181707","180906","180979","181972","187315","181175","186139","191326","187550","188157","189273","187852","182537","182542","182832","182675","188938","182622","182612","186035","182748","184167","184274","185800","191299","187290","183756","187346","181847","186665","191861","190017","183772","191429","188171","189449","184284","184192","184276","187442","187444","187448","180349","185169","185173","184888","184964","189913","189383","185881","183326","183689","183613","183541","183564","183622","183617","183722","183428","183314","183095","183109","183120","181028","181030","191981","184280","180445","180447","181454","189374","189202","186633","180587","185403","180225","182784","189307","182821","180557","192085","180455","180458","180343","180402","184177","184179","180383","180260","180328","180302","180248","180898","189587","185889","186832","189903","184796","182276","191366","186141","191403","191711","185661","185680","185685","186015","185945","180548","189721","183647","183650","183567","183575","183592","183602","183624","183514","183940","183954","183921","183914","190909","183006","183102","186146","185316","186695","183176","183518","183354","182950","192106","185996","183148","183165","183227","183273","183208","183376","183543","183365","183340","183360","182958","190521","183228","189684","188941","189655","190849","183171","182945","190629","190976","189164","183111","183128","183275","183551","182969","182976","183216","183035","188985","183088","183588","183183","183279","183349","183420","182911","182892","183336","182951","183905","183003","183085","183345","183584","183597","183510","183342","183479","183322","183626","183614","183660","183241","183074","183051","183487","183112","182997","183637","182957","189704","183642","185768","186591","182963","184528","183284","182900","183362","183269","183141","183067","183077","183089","183096","182977","183143","183335","183391","183403","183430","183153","183599","183610","183641","183098","183110","183718","183139","183424","183377","183392","183252","183907","183308","183017","183703","183100","183122","183041","183060","183167","183045","189278","180758","180764","180773","180703","181032","181924","181983","182032","182111","180971","182284","182270","181225","180822","181045","180817","187409","180760","180649","182058","181405","181418","180786","181189","180964","181295","181696","181655","185899","181082","186019","187232","189734","185862","184442","182378","182374","187733","186344","184286","186660","187260","184956","185290","188913","189329","180601","190000","182600","182626","190482","184298","182394","186828","181123","180545","180536","190761","184896","185479","185481","185487","185490","185531","185706","185751","184297","185453","187094","182903","183196","180929","180933","184303","181935","182072","182010","179803","181843","181896","181997","181501","182041","180841","180857","181456","181914","181957","181984","182003","181671","182427","182445","181632","181778","182117","182023","180842","180846","182028","181683","182120","181125","181160","181126","181236","181934","181223","181247","181253","181263","181430","181173","182170","182160","181368","181011","181815","181391","182512","187006","186750","182582","184843","186936","185836","180911","192047","189480","181054","191801","186607","182362","185870","187067","186624","180598","180564","180583","185397","180042","182695","181116","179925","184146","182556","182440","185736","191557","185581","185618","185627","185622","185561","185519","185517","185492","185472","185692","185696","185698","185674","191206","182896","185175","183332","182875","183458","182942","182983","182898","183401","183485","183394","183408","183114","183687","183294","183388","182091","182061","182188","181659","181684","182265","181034","181024","180865","180878","180886","180896","181414","180752","182175","180681","182218","181007","180378","179180","180827","179628","179721","181043","182242","180939","180945","180853","180858","180828","181363","181643","182162","180999","180805","180825","182087","182431","181695","180669","182250","182197","181289","182029","181155","182425","180643","181106","181132","182042","180976","180990","182119","182174","182214","182444","183966","185419","185594","185184","186118","183815","187389","183131","187187","181895","185283","181590","179719","187860","187847","184636","180459","184468","182736","184340","184329","182071","185272","185276","184137","182772","191945","189046","189973","190461","180514","191497","180579","185342","190957","184087","186630","184038","184203","184858","187414","186603","186678","186676","186674","182857","184160","185407","185410","186845","186842","186844","183890","185474","185485","185496","185501","185507","185510","185528","185597","185599","185604","185609","185611","185614","185616","185533","185536","185553","185624","185620","185687","185702","185640","191345","186890","186742","183911","185715","185724","185738","185460","185734","191282","185763","185749","184128","184634","187135","184025","184237","186024","185887","186207","182417","185287","185151","187961","182348","184747","187687","180292","180139","187287","186188","185209","184860","186076","184919","185494","185651","185629","185632","181793","186632","183631","183384","187305","183220","183390","183571","183558","183156","183186","180749","180792","181392","180600","186836","184127","186408","186997","192056","187339","191784","189140","189142","183769","187850","190562","185420","181008","182392","185338","187040","184229","184335","190118","186530","189942","184133","189169","182590","182594","191534","186978","184625","189292","186157","184093","181965","181093","185264","191190","180520","180517","183840","180777","191135","182336","182318","185242","184314","181917","181858","184399","184097","184066","183923","189196","184098","185111","184927","185347","185933","184129","186872","189908","186122","183875","183886","187446","184392","187450","188253","185769","182571","192016","183892","182491","185498","185634","185704","185943","188860","183527","191381","184028","186704","191858","183446","187670","188268","184515","187824","190872","185979","189184","185607","188250","190638","189125","188198","191411","191032","184154","185998","185997","183509","183224","183472","180624","180633","181503","181784","182454","180668","189166","190443","186334","186337","186672","184907","181772","181595","185385","182515","182520","183843","182334","191706","182352","182294","189622","189626","185920","185925","185667","185258","184456","183947","183242","185694","187593","187600","187119","185262","185256","185254","184925","184923","184427","185246","184623","184082","188260","184422","184425","184511","185663","185665","185585","184762","185577","184792","187511","191880","185655","183298","180252","184765","184816","182838","184439","181973","184868","184880","185747","185563","185541","185523","185521","185657","185503","180561","182981","187246","186210","180768","180957","180672","180873","181198","180256","180246","181159","179993","181074","180541","180614","184499","182727","182619","180163","187633","180590","179963","181989","180562","191475","182527","182611","189240","182478","181904","180823","181151","180856","182823","181071","181157","184184","181241","185171","186928","184460","183968","183972","185458","184736","186055","191886","183928","182712","180885","183713","185268","185250","188845","183743","190084","180576","180515","180729","180717","181207","180967","181602","181625","189526","179717","180807","182154","182051","182171","182233","180954","182191","182068","181009","181015","182013","180788","181552","182110","180909","181565","181985","182015","181541","181958","181960","182180","180899","182106","182123","180904","182267","182142","180795","180797","181717","180804","181738","181039","182223","180917","182116","182316","181036","182152","182022","181906","181586","180836","180837","180845","181466","181481","182308","180755","181825","180695","180699","180701","180740","180688","180691","182285","180671","181577","182096","180728","180732","182462","180718","180723","180733","180736","180745","181022","181014","180686","180696","182083","182070","181860","181853","181880","182272","181325","182470","180782","181152","182256","180635","181840","181177","181017","181521","181316","182134","182067","180640","180642","180969","181209","181261","182157","181204","181404","181538","182257","181366","181725","181000","181287","182143","182215","181246","182026","181630","180994","180631","180622","182148","182163","182101","181220","181138","182122","181426","182137","181101","180612","181749","181096","180637","182089","181364","180595","181100","181181","181102","181767","181912","182221","182234","180606","181390","180938","181187","181158","182266","181120","182178","182206","181491","181180","180962","180610","180632","181164","180785","182090","180620","181875","181144","180625","180628","180679","180689","180651","181855","181773","182166","182043","180814","180884","181088","181821","180677","182131","182138","181362","182048","181383","180698","180654","180658","180661","182253","182258","182104","180712","180666","180722","180662","182132","182031","180809","181311","181863","180818","182434","180992","180794","180646","182038","181829","181862","181887","181744","181946","181938","181990","182429","181334","181993","181668","180831","181284","181797","181852","181897","182185","181310","181682","182075","182100","180989","181612","180832","181743","181676","181321","181761","180868","181980","182176","187335","187017","182456","184898","186110","183935","185759","185745","185720","185722","185740","185742","185467","185469","185708","185711","181776","185690","187856","187854","183900","185277","182551","181462","184404","184407","186471","186479","186475","186488","186481","185815","186473","186477","182607","187454","186233","189669","184418","189114","185327","187949","187778","191080","187458","187456","182651","184046","189150","185993","185116","184083","191821","191826","184544","180580","184091","185072","186343","186341","185907","185230","186351","186219","183753","183773","184327","184333","183497","180607","188128","189269","189147","190262","185309","180869","180902","180852","180996","180706","180880","181888","181926","182059","181026","180710","181020","180926","181733","181953","182139","181041","187659","187663","182464","184565","179472","179886","190991","181786","181824","181502","180864","181333","180930","181406","181705","181353","182287","180961","181513","180984","182155","182200","182219","180935","180947","182236","182278","180835","181752","181721","182021","181518","181839","181921","182438","181968","181336","181653","181796","185678","180791","186058","190453","190455","191339","185525","185544","186641","187452","186699","191417","180309","180314","181816","182195","189582","184188","181367","184109","189110","180039","182342","190215","190056","190053","184538","184541","180051","183453","186373","186102","186090","186108","186124","186120","186092","186094","186096","186098","186116","186112","186114","186106","186128","181794","184834","180392","181507","181497","182357","182039","186369","186375","185660","186001","183705","183454","185285","183951","187108","185849","185852","191051","190802","187082","187078","187096","187088","187086","187084","186716","190047","183608","186744","190499","183040","183105","183023","185784","189316","185787","183561","183090","182893","183694","182999","182888","183185","183407","186690","183119","183623","183457","183512","183526","183277","183464","183421","183666","183264","183211","183607","183724","183214","183302","183118","183052","183677","183218","182929","183238","183257","183144","182917","182943","182955","182879","182988","183595","183634","183698","183413","183379","183492","183499","183702","183699","183126","183726","183720","182873","182884","182901","182925","182936","182964","183032","183055","183695","183673","183644","183648","183653","183657","183618","183632","183154","183178","183496","183506","182919","182939","183868","183402","183350","183356","183367","183240","183537","183542","183555","183559","183565","183569","183290","183292","183304","183306","183486","183435","183574","183582","183587","183578","183204","183237","183245","183283","183137","183025","182906","183707","183658","183662","183001","183179","183190","183203","183442","183251","183411","183423","183346","183361","182962","182968","183030","183205","183231","183177","183353","183399","182878","183368","183382","183021","180895","181922","182025","181803","182451","182006","181716","180738","181732","181346","181690","181674","181688","181787","182007","181969","181720","181971","180889","180876","181700","181475","181090","180955","180949","181365","181379","181601","180983","180988","180950","181217","181127","181345","181703","181662","181614","180713","180734","182248","182268","181338","180960","181380","180812","184254","189688","187710","184915","187603","186347","186349","186428","191066","182754","184938","185965","185937","185515","185512","185547","185556","185559","185538","185568","185726","185729","185718","191348","185462","185646","185649","185591","185761","184152","186712","188971","186686","190273","186547","181296","181315","182056","182076","188255","183998","190175","192031","187068","185236","180529","180521","182630","182615","182743","187514","184056","184095","189144","184415","185676","183864","183860","184482","184640","185238","182244","182321","187542","187544","189617","186569","187163","186573","186571","190952","190950","190955","183853","182194","182355","182310","182358","182365","182302","189416","184412","180058","184266","183849","184642","183855","183851","185165","189849","188889","187684","191521","180594","180194","184076","180200","184301","184307","180739","184317","187622","186981","185669","182548","189977","185234","184801","184591","187966","182944","182956","191778","185126","185124","185232","192039","184247","184242","184478","186620","182842","182847","182865","190616","184717","187567","187570","182644","183777","183807","183847","184632","185905","185903","189547","189551","184603","184606","184573","184578","184588","185240","184612","184557","184569","184618","184621","187521","185281","186084","185683","185688","185248","183903","183996","184196","184410","180353","192009","187617","187620","185364","189301","185362","190537","182734","184031","187374","185260","186214","189648","189646","189534","186708","186710","186688","188884","184289","184483","190457","190459","190452","187460","188256","186396","184259","184270","189350","187469","180184","180211","180191","180205","180096","180106","180113","180116","187439","184388","182085","183547","183554","183749","183741","183783","183654","183465","183191","183207","183640","183473","182995","183016","184702","180922","180912","181425","181444","181470","181463","181589","181640","181597","181616","185901","180179","180172","180119","180146","180149","180154","180075","180168","180161","180068","183664","183680","183683","183288","183286","183471","183097","183078","183668","183466","180621","180615","181739","181764","180775","180759","181543","181534","181680","181665","183994","181576","180092","180088","181438","181452","181907","181937","181734","181747","181849","181879","180743","180751","180973","180978","181628","181190","181883","181893","183260","183268","183437","183449","183015","183024","182375","182369","182381","182384","181259","181283","181802","181781","182507"];
//$i = 183700;
//191837

$idsWithError = array(
    186074,
    185775
);

$statios = array();
foreach($ids as $i){

    echo 'Starting for station => ' . $i;
    $post = array(
        'linha' => $i,
        'fi' => 7745,
        'geradorid' => 5372,
        'nivel' => 2,
        'mid' => 5037,
        'codigoms' => 0,
        'codigono' => "62796281AAAAAAAAAAAAAAAA",
        'tabelaid' => 0,
        'relatorioid' => 0,
        'regniu' => 7747,
        'regformid' => 5044,
        'regestagioid' => 5188,
        'regnumprocesso' => 28760867,
        'regtipo' => "S",
        'regbloco' => 7747,
        'regniu' => 7747,
        'regformid' => 5044,
        'regestagioid' => 5188,
        'regnumprocesso' => 28760867,
        'regtipo' => "S",
        'regbloco' => 7747,
        'g7745n0nrec' => 50,
    );

    echo ' .';

    $ch = curl_init('http://www.precoscombustiveis.dgeg.pt/wwwbase/raiz/mlkListagemCallback_v11.aspx');
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, $post);

    $response = curl_exec($ch);

    curl_close($ch);

    echo '.';

    $dom = new Dom;
    $dom->load($response);

//    var_dump($response);
    $x = $dom->find('div')[0]->find('div');

    echo '.';
    $first = $x[0];
    $second = $x[1];
    $third = $x[2];

    $_morada = $first->find('div')->innerHtml;

    preg_match('/.+?(?=<br \/>)/', $_morada, $xx);
    preg_match('/<br \/>(.*)/', $_morada, $xxx);

    $morada = str_replace('<h2>Morada</h2>', '', $xx[0]);
    $postal = str_replace('<br />', '', $xxx[0]);

    $sentido = str_replace('<h2>Sentido</h2>', '', $first->find('div')[1]->innerHtml);

    $scheduleWeekDays = str_replace('<h2 title="Horário aos dias úteis">Dias Úteis</h2>', '', $first->find('div')[2]->innerHtml);
    $scheduleSaturdays = str_replace('<h2 title="Horário aos Sábados">Sábados</h2>', '', $first->find('div')[3]->innerHtml);
    $scheduleSundays = str_replace('<h2 title="Horário aos Domingos e Feriados">Dom/Feriados</h2>', '', $first->find('div')[4]->innerHtml);


    $usage = str_replace('<h2>Utilização</h2>', '', $first->find('div')[6]->innerHtml);


    $gasDT = trim(str_replace('<h2>Gasolina de mistura (motores a 2 tempos)</h2>', '', $second->find('div')[0]->innerHtml));
    $gasHeating = trim(str_replace('<h2>Gasóleo de aquecimento</h2>', '', $second->find('div')[1]->innerHtml));
    $gasOilSimple = trim(str_replace('<h2>Gasóleo simples</h2>', '', $second->find('div')[2]->innerHtml));
    $gasOil = trim(str_replace('<h2>Gasóleo</h2>', '', $second->find('div')[3]->innerHtml));
    $gasOilSpecial = trim(str_replace('<h2>Gasóleo especial</h2>', '', $second->find('div')[4]->innerHtml));
    $gasOilColored = trim(str_replace('<h2>Gasóleo colorido</h2>', '', $second->find('div')[5]->innerHtml));
    $gasSimple95 = trim(str_replace('<h2>Gasolina simples 95</h2>', '', $second->find('div')[6]->innerHtml));
    $gas95 = trim(str_replace('<h2>Gasolina 95</h2>', '', $second->find('div')[7]->innerHtml));
    $gasSpecial95 = trim(str_replace('<h2>Gasolina especial 95</h2>', '', $second->find('div')[8]->innerHtml));
    $gas98 = trim(str_replace('<h2>Gasolina 98</h2>', '', $second->find('div')[9]->innerHtml));
    $gasSpecial98 = trim(str_replace('<h2>Gasolina especial 98</h2>', '', $second->find('div')[10]->innerHtml));
    $gpl = trim(str_replace('<h2>GPL Auto</h2>', '', $second->find('div')[11]->innerHtml));
    $bio = trim(str_replace('<h2>Biodiesel B15</h2>', '', $second->find('div')[12]->innerHtml));
    $gnc = trim(str_replace('<h2>GNC (gás natural comprimido) - €/m3</h2>', '', $second->find('div')[13]->innerHtml));
    $gncKG = trim(str_replace('<h2>GNC (gás natural comprimido) - €/kg</h2>', '', $second->find('div')[14]->innerHtml));
    $gnl = trim(str_replace('<h2>GNL (gás natural liquefeito) - €/kg</h2>', '', $second->find('div')[15]->innerHtml));


    preg_match_all('/\((.+?)\)/is',str_replace("'", "", $response), $_coords);

    $_coords = explode(',', $_coords[1][10]);

    $lat = trim($_coords[2]);
    $lng = trim($_coords[3]);

    echo '.';
    $station = array(
        'address' => $morada,
        'postal' => $postal,
        'direction' => $sentido,
        'scheduleWeekDays' => $scheduleWeekDays,
        'scheduleSaturday' => $scheduleSaturdays,
        'scheduleSunday' => $scheduleSundays,
        'usage' => $usage,
        'gasDT' => $gasDT,
        'gasHeating' => $gasHeating,
        'gasOilSimple' => $gasOilSimple,
        'gasOil' => $gasOil,
        'gasOilSpecial' => $gasOilSpecial,
        'gasSimple95' => $gasSimple95,
        'gas95' => $gas95,
        'gasSpecial95' => $gasSpecial95,
        'gas98' => $gas98,
        'gasSpecial98' => $gasSpecial98,
        'gpl' => $gpl,
        'bio' => $bio,
        'gnc' => $gnc,
        'gncKG' => $gncKG,
        'gnl' => $gnl,
    );

    $statios[] = $station;

    echo '. Done. Sleeping.' . PHP_EOL;
    sleep(2);
}

$fp = fopen("data.csv", "a+");

fputcsv($fp, $statios);
fclose($fp);